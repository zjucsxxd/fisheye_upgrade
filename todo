
- add cover command
O fix symmetry optimizations
X fix platedisplay optimizations
X remove dfov command

X make variables static if possible
- rename commands
    - fisheye

    - f_help

    - f_lens
    - f_globe

    - f_fov
    - f_vfov
    - f_contain
    - f_cover

    - f_rubix
    - f_saveglobe

- organize vars
    - fisheye_enabled
    - Lua
        - pointer to intepreter state
        - reference indexes
            - forward func
            - inverse func
            - plate func
    - drawing area on screen (in pixels)
        - left
        - top
        - width
        - height
    - fov
        - change flag
        - active fov in radians (value of hfov or vfov)
        - hfov in degrees
        - vfov in degrees
        - max hfov
        - max vfov
        - renderfov (global var used as a function argument when rendering each plate)
        - framesize (pointer to width or height -- pixel screen size vars)
        - scale (lens to pixel scale)
    - lens
        - lensmap
        - palimap
        - lens build state vars
        - stopwatch var
        - name
        - has changed flag
        - is valid flag
        - lens width
        - lens height
        - scale
        - map type (forward/inverse)
        - fit flags:
            - hfit
            - vfit
            - fit
    - rubix
        - is enabled
        - number of cells
        - divs per cell (cells are separated by 1 div)
    - globe
        - name
        - is valid flag
        - has changed flag
        - platemap
        - plate camera configs
        - plate size
        - plate palettes
        - plate display flags
        - save globe
            - should save globe this frame
            - filename
            - should save full globe (cut out unused margins)

- organize functions
    - main
        - init
        - init lua
        - write config
        - shutdown
        - render
    - commands
        - dump palette
        - rubix
        - zoom
            - hfit
            - vfit
            - fit
    - palette
        - find closest
        - create palmap
    - conversion funcs
        - latlon->ray
        - ray->latlon
        - plateuv->ray
    - c->lua functions
        - latlon->ray
        - ray->latlon
        - plate_uv->ray
    - lua->c functions
        - lens inverse
        - lens forward
        - ray->globe plate
    - lens
        - load
        - reset fov
        - clear lua vars
        - determine scale
        - set lensmap
            - set grid
            - set from plate_xy
            - set from plate_uv
            - set from ray
        - resume lensmap
            - inverse
            - forward
            - both
        - create lensmap
            - inverse
            - forward
            - both
        - forward utilities
            - plate_uv->lens
            - draw quad
        - render lens
    - globe
        - load
        - clear globe vars
        - ray->plate_index
        - plate_uv->ray
        - render plate

- prepare video demonstration

- prepare patch and send to Kevin
    - ask if Lua dependency is alright

- write blog post
