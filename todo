
x replace fit commands with f_contain, f_cover commands
- improve debug lens for better clarity
    - better layout?
    - don't rubix-color invisible pixels
        - compromise between the desire to see the full rendered plate and just the visible part
- add f_help command
- rename lens.c to fisheye.c
- change function prefix from "L_" to "F_"

O fix symmetry optimizations
X fix platedisplay optimizations
X remove dfov command
X make variables static if possible

x rename commands
    - fisheye
    - f_lens
    - f_globe
    - f_fov
    - f_vfov
    - f_rubix
    - f_saveglobe

x organize vars
    x fisheye_enabled
    x Lua
        X pointer to intepreter state
        X reference indexes
            - forward func
            - inverse func
            - plate func
    X drawing area on screen (in pixels)
        - left
        - top
        - width
        - height
    x fov
        - change flag
        - active fov in radians (value of hfov or vfov)
        - hfov in degrees
        - vfov in degrees
        - max hfov
        - max vfov
        - renderfov (global var used as a function argument when rendering each plate)
        - framesize (pointer to width or height -- pixel screen size vars)
        x scale (lens to pixel scale)
    x lens
        x lensmap
        x palimap
        x lens build state vars
        x stopwatch var
        x name
        x has changed flag
        x is valid flag
        x lens width
        x lens height
        x scale
        x map type (forward/inverse)
        x fit flags:
            - hfit
            - vfit
            - fit
    x rubix
        - is enabled
        - number of cells
        - divs per cell (cells are separated by 1 div)
    x globe
        x name
        x is valid flag
        x has changed flag
        x platemap
        x plate camera configs
        x plate size
        x plate palettes
        x plate display flags
        x save globe
            - should save globe this frame
            - filename
            - should save full globe (cut out unused margins)

- organize functions
    - main
        - init
        - init lua
        - write config
        - shutdown
        - render
    - commands
        - dump palette
        - rubix
        - zoom
            - hfit
            - vfit
            - fit
        - lens
        - globe
    - palette
        - find closest
        - create palmap
    - conversion funcs
        - latlon->ray
        - ray->latlon
        - plateuv->ray
    - c->lua functions
        - latlon->ray
        - ray->latlon
        - plate_uv->ray
    - lua->c functions
        - lens inverse
        - lens forward
        - ray->globe plate
    - lens
        - load
        - reset fov
        - clear lua vars
        - determine scale
        - set lensmap
            - set grid
            - set from plate_xy
            - set from plate_uv
            - set from ray
        - resume lensmap
            - inverse
            - forward
            - both
        - create lensmap
            - inverse
            - forward
            - both
        - forward utilities
            - plate_uv->lens
            - draw quad
        - render lens
    - globe
        - load
        - clear globe vars
        - ray->plate_index
        - plate_uv->ray
        - render plate

- prepare video demonstration

- prepare patch and send to Kevin
    - ask if Lua dependency is alright

- write blog post
